{"version":3,"sources":["webpack:///./src/common/apiAdmin.js","webpack:///./src/components/adminComponents/list.vue?21c6","webpack:///src/components/adminComponents/list.vue","webpack:///./src/components/adminComponents/list.vue?9ba0","webpack:///./src/components/adminComponents/list.vue"],"names":["__webpack_require__","C_Users_Leandro_Code_il_kaizen_dashboard_client_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","axios__WEBPACK_IMPORTED_MODULE_3__","axios__WEBPACK_IMPORTED_MODULE_3___default","n","_enviroment__WEBPACK_IMPORTED_MODULE_4__","endPoints","urlAPI","baseURL","enviroment","base_url","points","name","path","bearerToken","headers","authorization","localStorage","getItem","setURL","point","console","log","api_url","url","i","length","accessAdminAPI","login","_login","Object","regeneratorRuntime","mark","_callee","data","wrap","_context","prev","next","abrupt","axios","post","then","response","catch","err","Promise","reject","message","stop","_x","apply","this","arguments","logout","_logout","_callee2","_context2","get","register","searchAdmin","id","value","getAdmin","updateAdmin","put","removeAdmin","delete","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_l","list","index","key","_id","_v","_s","email","attrs","to","params","title","href","on","click","$event","preventDefault","deleteAdmin","staticRenderFns","listvue_type_script_lang_js_","admins","computed","hasAdmins","mounted","setAdmins","methods","_this","apiAdmin","error","userNoPwd","$parent","setAlert","type","setTimeout","$router","push","_this2","confirm","window","adminComponents_listvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-039d8a3f.c34aad2b.js","sourcesContent":["'use strict';\r\n\r\nimport axios from 'axios';\r\n\r\nimport enviroment from './enviroment';\r\n\r\nconst endPoints = {\r\n  urlAPI: '/admin',\r\n  baseURL: enviroment.base_url,\r\n  points: [\r\n    {\r\n      name: 'login',\r\n      path: '/authenticate/login'\r\n    },\r\n    {\r\n      name: 'logout',\r\n      path: '/authenticate/logout'\r\n    },\r\n    {\r\n      name: 'register',\r\n      path: '/register'\r\n    },\r\n    {\r\n      name: 'show',\r\n      path: '/show'\r\n    },\r\n    {\r\n      name: 'alls',\r\n      path: '/alls'\r\n    },\r\n    {\r\n      name: 'update',\r\n      path: '/update'\r\n    },\r\n    {\r\n      name: 'remove',\r\n      path: '/remove'\r\n    }\r\n  ]\r\n};\r\n\r\nconst bearerToken = () => {\r\n  return {\r\n    headers: {\r\n      authorization: 'Bearer ' + localStorage.getItem('_token')\r\n    }\r\n  };\r\n};\r\n\r\nconst setURL = point => {\r\n  console.log(enviroment)\r\n  let baseURL = endPoints.baseURL;\r\n  let urlAPI = enviroment.api_url + endPoints.urlAPI;\r\n  let url = null;\r\n  for (let i = 0; i < endPoints.points.length; i++) {\r\n    if (endPoints.points[i].name == point) {\r\n      url = endPoints.points[i].path;\r\n      break;\r\n    }\r\n  }\r\n  if (point == 'login' || point == 'logout') {\r\n    return baseURL + '/kaizen/api' + url;\r\n  }\r\n  return baseURL + urlAPI + url;\r\n};\r\n\r\nconst accessAdminAPI = {\r\n  /** @admins */\r\n  login: async data => {\r\n    let url = setURL('login');\r\n\r\n    return axios\r\n      .post(url, data)\r\n      .then(response => {\r\n        return response;\r\n      })\r\n      .catch(err => {\r\n        return Promise.reject(err.message);\r\n      });\r\n  },\r\n  logout: async () => {\r\n    let url = setURL('logout');\r\n    return axios\r\n      .get(url)\r\n      .then(response => {\r\n        return response;\r\n      })\r\n      .catch(err => {\r\n        return Promise.reject(err.message);\r\n      });\r\n  },\r\n  register: data => {\r\n    let url = setURL('register');\r\n    return axios\r\n      .post(url, data, bearerToken())\r\n      .then(response => {\r\n        return response;\r\n      })\r\n      .catch(err => {\r\n        return Promise.reject(err.message);\r\n      });\r\n  },\r\n  searchAdmin: id => {\r\n    let url = setURL('show');\r\n    return axios\r\n      .get(url + '/' + id, bearerToken())\r\n      .then(response => {\r\n        const value = response.data;\r\n        return value;\r\n      })\r\n      .catch(err => Promise.reject(err.message));\r\n  },\r\n  getAdmin: () => {\r\n    let url = setURL('alls');\r\n    return axios\r\n      .get(url, bearerToken())\r\n      .then(response => {\r\n        const value = response.data;\r\n        return value;\r\n      })\r\n      .catch(err => Promise.reject(err.message));\r\n  },\r\n  updateAdmin: (id, data) => {\r\n    let url = setURL('update');\r\n    return axios\r\n      .put(url + '/' + id, data, bearerToken())\r\n      .then(response => {\r\n        const value = response.data;\r\n        return value;\r\n      })\r\n      .catch(err => Promise.reject(err.message));\r\n  },\r\n  removeAdmin: id => {\r\n    let url = setURL('remove');\r\n    return axios\r\n      .delete(url + '/' + id, bearerToken())\r\n      .then(response => {\r\n        const value = response.data;\r\n        return value;\r\n      })\r\n      .catch(err => Promise.reject(err.message));\r\n  }\r\n};\r\n\r\nexport default accessAdminAPI;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"il-lists\"},[_c('table',{staticClass:\"il-form--lists\"},[_c('tbody',[_vm._m(0),_vm._l((_vm.admins),function(list,index){return _c('tr',{key:list._id},[_c('td',[_vm._v(_vm._s(index+1))]),_c('td',[_c('ul',{staticClass:\"il-list--info\"},[_c('li',{staticClass:\"name\"},[_vm._v(_vm._s(list.name))])])]),_c('td',[_vm._v(_vm._s(list.email))]),_c('td',[_c('ul',{staticClass:\"il-list--actions\"},[_c('li',[_c('router-link',{attrs:{\"to\":{name:'admin.edit', params:{id:list._id}},\"title\":\"Editar Admin\"}},[_c('i',{staticClass:\"mdi mdi-24px mdi-account-edit\"})])],1),_c('li',[_c('a',{attrs:{\"href\":\"!#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteAdmin(list._id)}}},[_c('i',{staticClass:\"mdi mdi-24px mdi-delete\",attrs:{\"title\":\"Eliminar admin\"}})])])])])])})],2)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',[_vm._v(\"Id\")]),_c('td',[_vm._v(\"Nome\")]),_c('td',[_vm._v(\"Email\")]),_c('td',[_vm._v(\"Ações\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"il-lists\">\r\n    \r\n\r\n    <table class=\"il-form--lists\">\r\n        <tbody>\r\n            <tr>\r\n                <td>Id</td>\r\n                <td>Nome</td>\r\n                <td>Email</td>\r\n                <td>Ações</td>\r\n            </tr>\r\n            <tr v-for=\"(list,index) in admins\" :key=\"list._id\">\r\n                <td>{{index+1}}</td>\r\n                <td>\r\n                    <ul class=\"il-list--info\">\r\n                        <li class=\"name\">{{list.name}}</li>\r\n                    </ul>\r\n                </td>\r\n                <td>{{list.email}}</td>\r\n                <td>\r\n                    <ul class=\"il-list--actions\">\r\n                        <li>\r\n                            <router-link :to=\"{name:'admin.edit', params:{id:list._id}}\" title=\"Editar Admin\">\r\n                                <i class=\"mdi mdi-24px mdi-account-edit\"></i>\r\n                            </router-link>\r\n                        </li>\r\n                        <li>\r\n                          <a href=\"!#\" @click.prevent=\"deleteAdmin(list._id)\"> \r\n                            <i class=\"mdi mdi-24px mdi-delete\" title=\"Eliminar admin\"></i>\r\n                          </a>\r\n                        </li>\r\n                    </ul>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport accessAdminAPI from '../../common/apiAdmin.js';\r\nexport default {\r\n  name: 'listAdmin',\r\n  data() {\r\n    return {\r\n      admins: []\r\n    };\r\n  },\r\n  computed: {\r\n    hasAdmins() {\r\n      if (this.admins.length > 0) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.setAdmins();\r\n  },\r\n  methods: {\r\n    setAdmins() {\r\n      accessAdminAPI\r\n        .getAdmin()\r\n        .then(response => {\r\n          if (response.error == null && response.userNoPwd.length > 0) {\r\n            this.admins = response.userNoPwd;\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.$parent.setAlert({\r\n            type: 'danger',\r\n            message:\r\n              'Você não tem permisssão para acessar essa página! ' +\r\n              err +\r\n              ' Você será redirecionado para página de login em 4 seg'\r\n          });\r\n          setTimeout(() => {\r\n            this.$router.push({\r\n              name: 'home'\r\n            });\r\n          }, 4000);\r\n        });\r\n    },\r\n\r\n    deleteAdmin(id) {\r\n      let confirm = window.confirm(\r\n        'Realmente deseja eliminar esse administrador?'\r\n      );\r\n      if (confirm) {\r\n        accessAdminAPI\r\n          .removeAdmin(id)\r\n          .then(response => {\r\n            this.admins = response;\r\n            this.$parent.setAlert({\r\n              type: 'success',\r\n              message: 'Admin removido com sucesso da base de dados.'\r\n            });\r\n          })\r\n          .catch(err => {\r\n            this.$parent.setAlert({\r\n              type: 'danger',\r\n              message:\r\n                'Você não tem permisssão para acessar essa página! ' +\r\n                err +\r\n                ' Você será redirecionado para página de login em 4 seg'\r\n            });\r\n            setTimeout(() => {\r\n              this.$router.push({\r\n                name: 'home'\r\n              });\r\n            }, 4000);\r\n          });\r\n      }\r\n      return;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=64be0622&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}