(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-039d8a3f"],{"0d08":function(e,t,n){"use strict";n("96cf");var r=n("3b8d"),a=(n("7f7f"),n("bc3a")),i=n.n(a),s=n("541e"),o={urlAPI:"/admin",baseURL:s["a"].base_url,points:[{name:"login",path:"/authenticate/login"},{name:"logout",path:"/authenticate/logout"},{name:"register",path:"/register"},{name:"show",path:"/show"},{name:"alls",path:"/alls"},{name:"update",path:"/update"},{name:"remove",path:"/remove"}]},u=function(){return{headers:{authorization:"Bearer "+localStorage.getItem("_token")}}},c=function(e){for(var t=o.baseURL,n=s["a"].api_url+o.urlAPI,r=null,a=0;a<o.points.length;a++)if(o.points[a].name==e){r=o.points[a].path;break}return"login"==e||"logout"==e?t+"/kaizen/api"+r:t+n+r},m={login:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=c("login"),console.log(n),e.abrupt("return",i.a.post(n,t).then(function(e){return e}).catch(function(e){return Promise.reject(e.message)}));case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),logout:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=c("logout"),e.abrupt("return",i.a.get(t).then(function(e){return e}).catch(function(e){return Promise.reject(e.message)}));case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),register:function(e){var t=c("register");return i.a.post(t,e,u()).then(function(e){return e}).catch(function(e){return Promise.reject(e.message)})},searchAdmin:function(e){var t=c("show");return i.a.get(t+"/"+e,u()).then(function(e){var t=e.data;return t}).catch(function(e){return Promise.reject(e.message)})},getAdmin:function(){var e=c("alls");return i.a.get(e,u()).then(function(e){var t=e.data;return t}).catch(function(e){return Promise.reject(e.message)})},updateAdmin:function(e,t){var n=c("update");return i.a.put(n+"/"+e,t,u()).then(function(e){var t=e.data;return t}).catch(function(e){return Promise.reject(e.message)})},removeAdmin:function(e){var t=c("remove");return i.a.delete(t+"/"+e,u()).then(function(e){var t=e.data;return t}).catch(function(e){return Promise.reject(e.message)})}};t["a"]=m},"4a81":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"il-lists"},[n("table",{staticClass:"il-form--lists"},[n("tbody",[e._m(0),e._l(e.admins,function(t,r){return n("tr",{key:t._id},[n("td",[e._v(e._s(r+1))]),n("td",[n("ul",{staticClass:"il-list--info"},[n("li",{staticClass:"name"},[e._v(e._s(t.name))])])]),n("td",[e._v(e._s(t.email))]),n("td",[n("ul",{staticClass:"il-list--actions"},[n("li",[n("router-link",{attrs:{to:{name:"admin.edit",params:{id:t._id}},title:"Editar Admin"}},[n("i",{staticClass:"mdi mdi-24px mdi-account-edit"})])],1),n("li",[n("a",{attrs:{href:"!#"},on:{click:function(n){return n.preventDefault(),e.deleteAdmin(t._id)}}},[n("i",{staticClass:"mdi mdi-24px mdi-delete",attrs:{title:"Eliminar admin"}})])])])])])})],2)])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("td",[e._v("Id")]),n("td",[e._v("Nome")]),n("td",[e._v("Email")]),n("td",[e._v("Ações")])])}],i=n("0d08"),s={name:"listAdmin",data:function(){return{admins:[]}},computed:{hasAdmins:function(){return this.admins.length>0}},mounted:function(){this.setAdmins()},methods:{setAdmins:function(){var e=this;i["a"].getAdmin().then(function(t){null==t.error&&t.userNoPwd.length>0&&(e.admins=t.userNoPwd)}).catch(function(t){e.$parent.setAlert({type:"danger",message:"Você não tem permisssão para acessar essa página! "+t+" Você será redirecionado para página de login em 4 seg"}),setTimeout(function(){e.$router.push({name:"home"})},4e3)})},deleteAdmin:function(e){var t=this,n=window.confirm("Realmente deseja eliminar esse administrador?");n&&i["a"].removeAdmin(e).then(function(e){t.admins=e,t.$parent.setAlert({type:"success",message:"Admin removido com sucesso da base de dados."})}).catch(function(e){t.$parent.setAlert({type:"danger",message:"Você não tem permisssão para acessar essa página! "+e+" Você será redirecionado para página de login em 4 seg"}),setTimeout(function(){t.$router.push({name:"home"})},4e3)})}}},o=s,u=n("2877"),c=Object(u["a"])(o,r,a,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-039d8a3f.2eb0a9ef.js.map